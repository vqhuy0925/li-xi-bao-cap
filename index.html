<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bốc Lì Xì - Xuân Bính Ngọ 2026</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- TV Container -->
    <div class="tv-set">
      <div class="tv-body">
        <!-- Màn hình TV -->
        <div class="tv-screen">
          <div class="vintage-crt-effect"></div>
          <div class="noise-overlay"></div>
          <canvas id="canvas-bg"></canvas>

          <!-- Nội dung Game (Card) -->
          <div class="main-stage">
            <div class="stamp">KIỂM DUYỆT<br />2026</div>
            <h1>Mã Đáo Thành Công</h1>

            <!-- Screen 1: Registration Form -->
            <div id="registerScreen">
              <p class="slogan">"Vui lòng khai báo danh tính"</p>
              <div class="form-group">
                <label for="userNameInput">Đồng chí:</label>
                <input
                  type="text"
                  id="userNameInput"
                  placeholder="Nhập tên..."
                  autocomplete="off"
                />
              </div>
              <button class="btn-retro" id="registerBtn">ĐĂNG KÝ</button>
            </div>

            <!-- Screen 2: Game Screen (Hidden by default) -->
            <div id="gameScreen" style="display: none">
              <p
                id="userGreeting"
                class="slogan"
                style="margin-bottom: 1rem"
              ></p>
              <button class="btn-retro" id="drawBtn">RÚT THĂM</button>
            </div>
          </div>

          <!-- Move Modal & Overlay inside Screen -->
          <div class="overlay-dim" id="overlay"></div>
          <div class="modal" id="resultModal">
            <div class="calendar-header">XUÂN BÍNH NGỌ</div>
            <div class="calendar-body">
              <div id="luckyAmount">...</div>
            </div>
            <div class="calendar-footer" id="luckyWish">...</div>
            <div class="modal-actions">
              <button class="btn-close" onclick="app.closeModal()">Đóng</button>
              <button class="btn-reset" onclick="app.resetSession()">
                Người Tiếp Theo
              </button>
            </div>
          </div>

          <!-- Alert Modal (Generic) -->
          <div class="modal" id="alertModal">
            <div
              class="calendar-header"
              style="background: #5d4037; color: #d4af37"
            >
              THÔNG BÁO
            </div>
            <div
              class="calendar-body"
              style="padding: 20px; font-size: 1.2rem; color: #5d4037"
            >
              <p id="alertMessage"></p>
            </div>
            <div class="modal-actions">
              <button class="btn-close" onclick="app.closeAlert()">
                Đã Rõ
              </button>
            </div>
          </div>

          <!-- Confirm Modal -->
          <div class="modal" id="confirmModal">
            <div
              class="calendar-header"
              style="background: #5d4037; color: #d4af37"
            >
              XÁC NHẬN
            </div>
            <div
              class="calendar-body"
              style="padding: 20px; font-size: 1.2rem; color: #5d4037"
            >
              <p>Kết thúc lượt chơi của đồng chí này?</p>
            </div>
            <div class="modal-actions">
              <button
                class="btn-close"
                onclick="app.confirmReset()"
                style="background: var(--red-retro); color: #fff; border: none"
              >
                Đồng ý
              </button>
              <button
                class="btn-close"
                onclick="app.closeConfirm()"
                style="background: #8d6e63"
              >
                Hủy
              </button>
            </div>
          </div>
        </div>

        <!-- Bảng điều khiển (Loa, Núm vặn) -->
        <div class="tv-controls">
          <div class="tv-speaker">
            <span></span><span></span><span></span><span></span><span></span>
            <span></span><span></span><span></span><span></span><span></span>
          </div>
          <div class="tv-channels">
            <div class="channel-knob">
              <div class="knob-line"></div>
            </div>
            <div class="channel-knob small-knob"></div>
            <div class="power-btn"></div>
          </div>
        </div>
      </div>
      <!-- Chân đỡ TV -->
      <div class="tv-legs">
        <div class="leg left"></div>
        <div class="leg right"></div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
